<!DOCTYPE html>

<html>
	<head>
		<%- include('content/ejs/head.ejs', {title: "Submit Advertisements"}) %>
	</head>
	<body>
		<nav>
			<%- include('content/ejs/navbar.ejs') %>
			<%- include('content/ejs/banner.ejs') %>
		</nav>
		<main>
			<%- include('content/ejs/body.ejs') %>

			<div id="adSubmission">
				<h1>Submit an Advertisement:</h1>

				<form action="" method="POST" enctype='multipart/form-data' id="adSubmissionForm">
					<div id="adForm">
						<label for="businessLink">Relative Link for <%= adDomain %>:</label>
						<input type="text" id="businessLink" name="businessLink" value="/" required><br>

						<hr>

						<h2>Accepted Image Resolutions:</h2>
						<% adResolutions.forEach((item, index) => { %>
							<p><%= item.width %>x<%= item.height %> for <%= item.type %> <%= item.position %>s</p>
						<% }); %>

						<label for="adImage">Advertisement Image/GIF:</label>
						<input type="file" id="adImage" name="adImage" accept="image/*" required><br>

						<hr>

						<label for="months">Months to Campaign:</label>
						<input type="number" step="1" value="1" id="months" name="months"><br>

						<label for="startDate">Start Date to Campaign:</label>
						<input type="date" id="startDate" name="startDate">
					</div>

					<hr>

					<div id="cardForm">
						<h4>Current Pricing: $<%= adPrice %>/month per advertisement according to daily visitors.</h4>

						<label for="cardNumber">Card Number:</label>
						<input type="text" id="cardNumber" name="cardNumber" minlength="16" maxlength="16"><br>

						<label for="expMonth">Expiration Month:</label>
						<input type="number" step="1" value="1" id="expMonth" name="expMonth" min="1" max="12"><br>

						<label for="expYear">Expiration Year:</label>
						<input type="text" id="expYear" name="expYear">
					</div>

					<hr>

					<button id="submitAdvert" type="button" onclick="advertSubmitted();">Submit Advertisement</button>
				</form>
			</div>

			<%- include('content/ejs/bottombody.ejs') %>

			<%- include('content/ejs/scripts.ejs') %>

			<script src="https://js.stripe.com/v3/"></script>

			<script>
				var stripePubKey = <%- JSON.stringify(stripePubKey) %>;
			</script>

			<script src="/content/javascript/stripeHandler.js"></script>
		</main>
	</body>
</html>
